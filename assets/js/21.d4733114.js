(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{370:function(s,e,a){"use strict";a.r(e);var t=a(2),r=Object(t.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("blockquote",[e("p",[s._v("Error: error:0308010C:digital envelope routines::unsupported")])]),s._v(" "),e("h1",{attrs:{id:"环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境"}},[s._v("#")]),s._v(" 环境")]),s._v(" "),e("p",[e("strong",[s._v("Node.js: v18.12.1")])]),s._v(" "),e("p",[e("strong",[s._v("npm: 8.19.2")])]),s._v(" "),e("h1",{attrs:{id:"查完资料原因如下"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查完资料原因如下"}},[s._v("#")]),s._v(" 查完资料原因如下：")]),s._v(" "),e("p",[s._v("node.js V17版本中最近发布的OpenSSL3.0, 而OpenSSL3.0对允许算法和密钥大小增加了严格的限制，可能会对生态系统造成一些影响。故此以前的项目在升级 nodejs 版本后会报错。")]),s._v(" "),e("h1",{attrs:{id:"有以下三种解决方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#有以下三种解决方法"}},[s._v("#")]),s._v(" 有以下三种解决方法")]),s._v(" "),e("h2",{attrs:{id:"enable-legacy-openssl-provider"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#enable-legacy-openssl-provider"}},[s._v("#")]),s._v(" Enable legacy OpenSSL provider.")]),s._v(" "),e("p",[s._v("On Unix-like (Linux, macOS, Git bash, etc.):")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("--openssl-legacy-provider\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("On Windows command prompt:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_OPTIONS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("--openssl-legacy-provider\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("On PowerShell:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$env")]),s._v(":NODE_OPTIONS "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"--openssl-legacy-provider"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"nodejs降版本至16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#nodejs降版本至16"}},[s._v("#")]),s._v(" nodejs降版本至16")]),s._v(" "),e("p",[s._v("安装命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("nvm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.16")]),s._v(".0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("使用命令")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("nvm use "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.16")]),s._v(".0\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("成功之后就可以查看本地的node版本了")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"修改package-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改package-json"}},[s._v("#")]),s._v(" 修改package.json")]),s._v(" "),e("p",[s._v("修改vuepress项目文件夹下的package.json，在构建命令之前加入SET NODE_OPTIONS=--openssl-legacy-provider")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('"scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1",\n    "docs:dev": "set NODE_OPTIONS=\\"--openssl-legacy-provider\\" & vuepress dev docs",\n    "docs:build": "set NODE_OPTIONS=\\"--openssl-legacy-provider\\" & vuepress build docs"\n  },\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])])])}),[],!1,null,null,null);e.default=r.exports}}]);